<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz System</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <!-- N√∫t hamburger (th√™m v√†o ƒë·∫ßu .main-content ho·∫∑c m·ªôt v·ªã tr√≠ c·ªë ƒë·ªãnh) -->
    <button class="hamburger-btn hidden" id="hamburger-btn">‚ò∞</button>

    <!-- C·∫•u tr√∫c container hi·ªán t·∫°i -->
    <div class="container">
      <!-- Sidebar b√™n tr√°i: danh s√°ch c√¢u h·ªèi + Auto Next + N·ªôp b√†i -->
      <div class="sidebar" id="sidebar">
        <h3>Questions</h3>
        <div class="question-boxes" id="question-list"></div>
        <div class="sidebar-bottom">
          <div class="auto-next">
            <label for="sidebar-auto-next">Auto Next:</label>
            <select id="sidebar-auto-next">
              <option value="0">Off</option>
              <option value="1000">1s</option>
              <option value="2000">2s</option>
              <option value="5000">5s</option>
            </select>
          </div>
        </div>

        <button onclick="handleSubmit()" class="submit-btn">N·ªôp b√†i</button>
      </div>

      <!-- Thanh tien trinh vui nhon -->
      <div id="quiz-progress-container">
        <div id="quiz-progress-bar"></div>
        <span id="quiz-progress-text">B·∫Øt ƒë·∫ßu nh√©!</span>
      </div>

      <!-- Ph·∫ßn ch√≠nh gi·ªØa: hi·ªÉn th·ªã c√¢u h·ªèi v√† l·ª±a ch·ªçn -->
      <div class="main-content">
        <div class="quiz-container">
          <div class="question" id="question-text"></div>
          <div class="options" id="options"></div>
          <div class="navigation">
            <button onclick="prevQuestion()">Previous</button>
            <button onclick="nextQuestion()">Next</button>
          </div>
        </div>
      </div>

      <!-- B·∫£ng b√™n ph·∫£i: th√¥ng tin th·ªùi gian + ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn admin -->
      <div class="right-panel">
        <h3>Th·ªùi gian c√≤n l·∫°i:</h3>
        <p id="countdown">--:--</p>
        <br />
        <h3>Th√¥ng tin</h3>
        <p>Ch·∫ø ƒë·ªô: <span id="mode-label">Ch∆∞a ch·ªçn</span></p>
        <p>Th·ªùi gian: <span id="time-info">Kh√¥ng gi·ªõi h·∫°n</span></p>

        <!-- N√∫t m·ªü form ƒëƒÉng nh·∫≠p thay v√¨ chuy·ªÉn trang -->
        <button
          class="admin-btn"
          onclick="showLoginPopup()"
          title="Chuy·ªÉn ƒë·∫øn trang Qu·∫£n l√Ω"
        >
          ‚öôÔ∏è Qu·∫£n l√Ω C√¢u h·ªèi
        </button>
      </div>
    </div>

    <!-- N√∫t ƒë·ªïi giao di·ªán Light/Dark -->
    <div class="toggle-theme">
      <button onclick="toggleTheme()">Toggle Dark/Light</button>
    </div>

    <!-- Popup: Ch·ªçn ch·∫ø ƒë·ªô l√†m b√†i -->
    <div class="popup-overlay" id="settings-popup">
      <div class="popup">
        <h2 style="color: silver">‚öôÔ∏è Select Quiz Mode</h2>

        <div class="time-limit">
          <label for="time-limit-select">üïíTh·ªùi gian l√†m b√†i:</label>
          <select id="time-limit-select">
            <option value="0">Kh√¥ng gi·ªõi h·∫°n</option>
            <option value="15">15 ph√∫t</option>
            <option value="30">30 ph√∫t</option>
            <option value="60">60 ph√∫t</option>
          </select>
        </div>

        <div class="auto-next">
          <label for="popup-auto-next">üïíAuto Next:</label>
          <select id="popup-auto-next">
            <option value="1000">1s</option>
            <option value="2000">2s</option>
            <option value="5000">5s</option>
            <option value="0">Off</option>
          </select>
        </div>

        <button id="btn-mode-1" onclick="startQuiz(false, false, false)">
          üéÆCh·∫ø ƒë·ªô b√¨nh th∆∞·ªùng
        </button>
        <button id="btn-mode-2" onclick="handleStartQuiz(true, true, false)">
          üéÆX√°o tr·ªôn C√¢u h·ªèi & ƒê√°p √°n
        </button>
        <button id="btn-mode-3" onclick="handleStartQuiz(false, true, false)">
          üéÆ X√°o tr·ªôn ƒê√°p √°n
        </button>
        <button id="btn-mode-4" onclick="handleStartQuiz(false, true, true)">
          -------------------- ‚ù§Ô∏èXEM ƒê√ÅP √ÅN‚ù§Ô∏è --------------------
        </button>
      </div>
    </div>

    <!-- Popup: X√°c nh·∫≠n n·ªôp b√†i -->
    <div id="confirm-submit-popup" class="popup-overlay hidden">
      <div class="popup">
        <h2 style="color: darkgray;">X√°c nh·∫≠n n·ªôp b√†i?</h2>
        <button onclick="confirmSubmit()">N·ªôp b√†i</button>
        <button onclick="closeConfirmPopup()">H·ªßy</button>
      </div>
    </div>

    <!-- Popup: Hi·ªÉn th·ªã k·∫øt qu·∫£ sau khi n·ªôp b√†i -->
    <div id="score-popup" class="popup-overlay hidden">
      <div class="popup">
        <h2>K·∫øt qu·∫£</h2>
        <div id="score-detail">B·∫°n ƒë√∫ng X/Y c√¢u.</div>
        <div id="score-chart"></div>
        <div
          id="score-feedback"
          style="margin-top: 10px; font-weight: bold; font-size: 16px"
        >
          <!-- C√¢u ƒë√°nh gi√° s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
        </div>

        <button onclick="closeScorePopup()">ƒê√≥ng</button>
      </div>
    </div>

    <!-- Popup: ƒêƒÉng nh·∫≠p qu·∫£n ly c√¢u h·ªèi -->
    <div id="login-popup" class="popup-overlay hidden">
      <div class="popup">
        <h2 style="color: rgb(255, 0, 0); font-weight: bold">LOGIN ADMIN</h2>
        <input type="text" id="admin-username" placeholder="T√™n ƒëƒÉng nh·∫≠p" />
        <input type="password" id="admin-password" placeholder="M·∫≠t kh·∫©u" />
        <button onclick="handleAdminLogin()">ƒêƒÉng nh·∫≠p</button>
        <button onclick="closeLoginPopup()">H·ªßy</button>
        <div id="login-error" style="color: red; margin-top: 10px"></div>
      </div>
    </div>

    <!-- Google Charts ƒë·ªÉ v·∫Ω bi·ªÉu ƒë·ªì k·∫øt qu·∫£ -->
    <script
      type="text/javascript"
      src="https://www.gstatic.com/charts/loader.js"
    ></script>

    <!-- Script ch√≠nh c·ªßa quiz -->
    <script src="script.js"></script>
  </body>
</html>
